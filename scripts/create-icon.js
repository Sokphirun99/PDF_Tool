const fs = require('fs');
const path = require('path');

// Create a simple base64 encoded PNG icon for the app
const pngIcon = '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';

// Create icon.png for Electron builder
const assetsDir = path.join(__dirname, '..', 'public', 'assets');
// Ensure the assets directory exists
if (!fs.existsSync(assetsDir)) {
    fs.mkdirSync(assetsDir, { recursive: true });
}
fs.writeFileSync(path.join(assetsDir, 'icon.png'), Buffer.from(pngIcon, 'base64'));

console.log('Created icon.png for deployment');
